{"version":3,"sources":["webpack:///./node_modules/lodash/maxBy.js","webpack:///./src/components/_ui/DvsIcon/DvsIcon.jsx","webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./src/components/DVS/DVSMap/DVSMap.jsx","webpack:///./src/components/DVS/DVSMap/DVSMapContainer.jsx","webpack:///./src/components/DVS/DVS.jsx","webpack:///./src/pages/dvs.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/components/_ui/DvsIcon/dvs-icon.png","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/react-geolocated/dist-modules/index.js","webpack:///./node_modules/react-geolocated/dist-modules/components/geolocated.js"],"names":["baseExtremum","baseGt","baseIteratee","module","exports","array","iteratee","length","undefined","DvsIcon","onMouseOver","props","setCurrentPet","pet","onMouseLeave","emptyCurrentPet","getClassName","className","this","classNames","render","src","icon","alt","Component","x","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","output","Array","topology","o","id","bbox","properties","geometry","type","transformPoint","arcs","arc","points","pop","a","k","push","t","reverse","point","p","line","ring","polygon","map","coordinates","geometries","DVSMap","setSkill","data","elem","obj","name","value","visualization","society","skill","state","worldData","user","React","createRef","projection","geoMercator","setUser","top","getBoundingClientRect","y","left","setUserOffsets","componentDidMount","fetch","then","response","status","json","setState","objects","countries","features","dsvData","setLoading","console","log","componentDidUpdate","prevProps","prevState","containerWidth","determineStrengthHex","showMap","showData","showViz","showSociety","isLoaded","Fragment","width","viewBox","d","key","geoPath","fill","stroke","strokeWidth","fillOpacity","strokeOpacity","member","cx","long","lat","cy","r","onMouseEnter","datum","ref","el","userCoords","longitude","latitude","DVSMapContainer","userTop","userLeft","chartContainer","fitParentContainer","bind","setInitialFit","setTimeout","window","addEventListener","componentWillUnmount","removeEventListener","containerHeight","currentContainerWidth","current","currentContainerHeight","height","showMe","isGeolocationAvailable","isGeolocationEnabled","coords","style","Spinner","size","spin","Label","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","colors","color","DVSPage","toggleData","trackEvent","userTopOffset","userLeftOffset","action","ReactGA","event","category","initializeReactGA","initialize","pageview","Link","to","rel","target","href","onClick","background","DVS","Layout","SEO","title","root","Date","now","other","isSymbol","comparator","index","computed","result","isObject","toNumber","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","clearTimeout","cancel","flush","_geolocated","_geolocated2","__esModule","geoPropTypes","Object","defineProperty","_extends","assign","source","prototype","hasOwnProperty","call","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes2","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","getDisplayName","WrappedComponent","displayName","_ref","_ref$positionOptions","maximumAge","timeout","Infinity","_ref$isOptimisticGeol","isOptimisticGeolocationEnabled","_ref$userDecisionTime","_ref$suppressLocation","suppressLocationOnMount","_ref$watchPosition","watchPosition","_ref$geolocationProvi","geolocationProvider","navigator","geolocation","_Component","Geolocated","_this","getPrototypeOf","Boolean","positionError","isCurrentlyMounted","onPositionError","onPositionSuccess","cancelUserDecisionTimeout","getLocation","userDecisionTimeoutId","onError","position","onSuccess","_this2","getCurrentPosition","Error","funcPosition","watchId","clearWatch","createElement","propTypes","shape","number","altitude","accuracy","altitudeAccuracy","heading","speed","bool","code","oneOf","message","string"],"mappings":"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","file":"component---src-pages-dvs-js-0de0ebbfa2bc856280e8.js","sourcesContent":["var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\n\n\nfunction maxBy(array, iteratee) {\n  return array && array.length ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt) : undefined;\n}\n\nmodule.exports = maxBy;","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport icon from 'components/_ui/DvsIcon/dvs-icon.png';\nimport './DvsIcon.scss';\n\nclass DvsIcon extends Component {\n    onMouseOver = () => {\n        this.props.setCurrentPet(this.props.pet);\n    }\n\n    onMouseLeave = () => {\n        this.props.emptyCurrentPet();\n    }\n\n    getClassName() {\n        const { className } = this.props;\n        return classNames(className,\n            'DvsIcon__container'\n        );\n    }\n\n    render() {\n\n        return (\n            <div className={this.getClassName()}>\n                <img\n                    src={icon}\n                    alt=\"Data Visualization Society unique member icon\"\n                    className=\"DvsIcon\"/>\n            </div>\n        );\n    }\n}\n\nexport default DvsIcon;","export default function (x) {\n  return x;\n}","import identity from \"./identity.js\";\nexport default function (transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function (input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n\n    while (j < n) {\n      output[j] = input[j], ++j;\n    }\n\n    return output;\n  };\n}","import \"core-js/modules/es6.array.map\";\nimport reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n\n    for (var i = 0, n = arcs.length; i < n; ++i) {\n      arc(arcs[i], points);\n    }\n\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n\n    while (points.length < 4) {\n      points.push(points[0]);\n    } // This may happen if an arc has only two points.\n\n\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type,\n        coordinates;\n\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n\n      default:\n        return null;\n    }\n\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n\n  return geometry(o);\n}","export default function (array, n) {\n  var t,\n      j = array.length,\n      i = j - n;\n\n  while (i < --j) {\n    t = array[i], array[i++] = array[j], array[j] = t;\n  }\n}","import React, { Component } from 'react';\nimport { geoMercator, geoPath } from \"d3-geo\";\nimport { feature } from \"topojson-client\";\nimport _ from \"lodash\";\nimport './DVSMap.scss';\n\nclass DVSMap extends Component {\n    constructor() {\n        super()\n        this.state = {\n            worldData: [],\n            data: [],\n        }\n        this.user = React.createRef();\n    }\n\n    projection() {\n        return geoMercator().scale(100).translate([1000 / 2, 550 / 2])\n    }\n\n    setSkill = (data) => {\n        data.map((elem) => {\n            const obj = [\n                {\n                    name: \"data\",\n                    value: elem.data,\n                },\n                {\n                    name: \"visualization\",\n                    value: elem.visualization,\n                },\n                {\n                    name: \"society\",\n                    value: elem.society,\n                }\n            ];\n            const skill = _.maxBy(obj, 'value');\n            return elem.skill = skill.name;\n        });\n        return data;\n    }\n\n    setUser() {\n        const top = this.user.getBoundingClientRect().y;\n        const left = this.user.getBoundingClientRect().x;\n        this.props.setUserOffsets(top, left);\n    }\n\n    componentDidMount() {\n        fetch(\"https://unpkg.com/world-atlas@1.1.4/world/110m.json\")\n            .then(response => {\n                if (response.status !== 200) {\n                    console.log(`There was a problem: ${response.status}`)\n                    return\n                }\n                response.json().then(worldData => {\n                    this.setState({\n                        worldData: feature(worldData, worldData.objects.countries).features,\n                        data: this.setSkill(this.props.dsvData)\n                    })\n\n                    this.props.setLoading();\n                    this.setUser();\n                })\n            })\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if ((prevProps.containerWidth !== null) && (prevProps.containerWidth !== this.props.containerWidth)) {\n            this.setUser();\n        }\n    }\n\n    determineStrengthHex(skill) {\n        if (skill === \"data\") {\n            return \"#29B6A8\";\n        } else if (skill === \"visualization\") {\n            return \"#F4AE05\";\n        } else {\n            return \"#9769F8\";\n        }\n    }\n\n    render() {\n        const { containerWidth, showMap, showData, showViz, showSociety, isLoaded } = this.props;\n        return (\n            <div className=\"DVSMap\">\n                <React.Fragment>\n                    {/* <svg width=\"1050\" height=\"600\" viewBox=\"0 0 900 400\"> */}\n                    <svg width={containerWidth} viewBox=\"0 0 900 400\">\n                        <g className=\"countries\">\n                            {\n                                this.state.worldData.map((d, i) => (\n                                    <path\n                                        key={`path-${i}`}\n                                        d={geoPath().projection(this.projection())(d)}\n                                        className=\"country\"\n                                        fill='#F7F5F9'\n\n                                        stroke=\"#FFFFFF\"\n                                        strokeWidth={1}\n                                        fillOpacity={showMap ? 1 : 0}\n                                        strokeOpacity={showMap ? 1 : 0}\n                                    />\n                                ))\n                            }\n                        </g>\n                        <g className=\"markers\">\n                            {\n                                this.state.data.map((member, i) => (\n                                    ((member.skill === \"data\") ? (\n                                        <circle\n                                            key={`marker-${i}`}\n                                            cx={this.projection()([member.long, member.lat])[0]}\n                                            cy={this.projection()([member.long, member.lat])[1]}\n                                            r={2.4}\n                                            fill={this.determineStrengthHex(member.skill)}\n                                            className=\"DVSMap__marker\"\n                                            onMouseEnter={datum => this.onMouseEnter(member, i)}\n                                            onMouseLeave={datum => this.onMouseLeave(null)}\n                                            fillOpacity={showData ? 1 : 0}\n                                        />\n                                    ) : (member.skill === \"visualization\") ? (\n                                            <circle\n                                                key={`marker-${i}`}\n                                                cx={this.projection()([member.long, member.lat])[0]}\n                                                cy={this.projection()([member.long, member.lat])[1]}\n                                                r={2.4}\n                                                fill={this.determineStrengthHex(member.skill)}\n                                                className=\"DVSMap__marker\"\n                                                onMouseEnter={datum => this.onMouseEnter(member, i)}\n                                                onMouseLeave={datum => this.onMouseLeave(null)}\n                                                fillOpacity={showViz ? 1 : 0}\n                                            />\n                                    ) : (member.skill === \"society\") && (\n                                            <circle\n                                                key={`marker-${i}`}\n                                                cx={this.projection()([member.long, member.lat])[0]}\n                                                cy={this.projection()([member.long, member.lat])[1]}\n                                                r={2.4}\n                                                fill={this.determineStrengthHex(member.skill)}\n                                                className=\"DVSMap__marker\"\n                                                onMouseEnter={datum => this.onMouseEnter(member, i)}\n                                                onMouseLeave={datum => this.onMouseLeave(null)}\n                                                fillOpacity={showSociety ? 1 : 0}\n                                            />\n                                    ))\n                                ))\n\n                            }\n                        </g>\n                        {isLoaded && (\n                            <g>\n                                <circle\n                                    ref={(el) => { this.user = el }}\n                                    cx={this.projection()([this.props.userCoords.longitude, this.props.userCoords.latitude])[0]}\n                                    cy={this.projection()([this.props.userCoords.longitude, this.props.userCoords.latitude])[1]}\n                                    r={3}\n                                    fill=\"#FFCF5C\"\n                                    fillOpacity={0}\n                                    className=\"DVSMap__marker DVSMap__marker--user\"\n                                />\n                            </g>\n                        )}\n                    </svg>\n                </React.Fragment>\n            </div>\n        );\n    }\n}\n\nexport default DVSMap;\n","import React, { Component } from 'react';\nimport Spinner from \"components/_ui/Spinner/Spinner\";\nimport Label from \"components/_ui/Label/Label\";\nimport DVSMap from \"components/DVS/DVSMap/DVSMap\";\nimport { geolocated } from 'react-geolocated';\nimport _ from \"lodash\";\n\nclass DVSMapContainer extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            containerWidth: null,\n            isLoaded: false,\n            userTop: null,\n            userLeft: null\n        }\n        this.chartContainer = React.createRef();\n        this.fitParentContainer = this.fitParentContainer.bind(this);\n    }\n\n    setUserOffsets = (top, left) => {\n        // center of image\n        top = top - 12;\n        left = left - 10;\n        this.setState({userTop: top, userLeft: left});\n    }\n\n    setInitialFit() {\n        setTimeout(function () {\n            this.fitParentContainer()\n        }.bind(this), 10);\n    }\n\n    componentDidMount() {\n        this.setInitialFit();\n        window.addEventListener('resize',\n            _.debounce(this.fitParentContainer, 1000)\n        );\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize',\n            _.debounce(this.fitParentContainer, 1000)\n        );\n    }\n\n    fitParentContainer() {\n        const { containerHeight, containerWidth } = this.state;\n        const currentContainerWidth = this.chartContainer.current\n            .getBoundingClientRect().width;\n\n        const currentContainerHeight = this.chartContainer.current\n            .getBoundingClientRect().height;\n\n        const shouldResize = (containerWidth !== currentContainerWidth) || (containerHeight !== currentContainerHeight);\n\n        if (shouldResize) {\n            this.setState({\n                containerWidth: currentContainerWidth,\n                containerHeight: currentContainerHeight,\n            })\n        }\n    }\n\n    setLoading = () => {\n        this.setState({\n            isLoaded: true\n        })\n    }\n\n    render() {\n        const { containerHeight, containerWidth, isLoaded, userTop, userLeft } = this.state;\n        const { showData, showViz, showSociety, showMe, showMap } = this.props;\n        return (\n            <div\n                className=\"DVSMapContainer\"\n                ref={this.chartContainer}\n\n            >\n                {!this.props.isGeolocationAvailable ? (\n                    <Label>\n                        Your browser does not support Geolocation\n                    </Label>\n                ) : !this.props.isGeolocationEnabled ? (\n                        <Label>\n                            Geolocation is not enabled\n                        </Label>\n                ) : this.props.coords ? (\n                    <React.Fragment>\n                        {/* <p>\n                            width:{this.state.containerWidth}\n                        </p>\n                        <p>\n                            height: {this.state.containerHeight}\n                        </p> */}\n                        {/* <p>\n                            isResizing:\n                            {isResizing ? (\n                                <span>true</span>\n                            ) : (\n                                <span>false</span>\n                            )}\n                        </p> */}\n                        {(showMe && isLoaded) && (\n                            <div\n                                className=\"DVSMap__marker--you\"\n                                style={{\n                                    top: `${userTop}px`,\n                                    left: `${userLeft}px`\n                                }}\n                            >\n                                <Spinner/>\n                            </div>\n\n                        )}\n                        <DVSMap\n                            containerWidth={containerWidth}\n                            containerHeight={containerHeight}\n                            dsvData={this.props.dsvData}\n                            setLoading={this.setLoading}\n                            userCoords={this.props.coords}\n                            setUserOffsets={this.setUserOffsets}\n                            isLoaded={isLoaded}\n                            showMap={showMap}\n                            showData={showData}\n                            showViz={showViz}\n                            showSociety={showSociety}\n                        />\n                    </React.Fragment>\n                ) : (\n                    <React.Fragment>\n                        <Spinner size=\"xl\" spin className=\"DVSMap__spinner\" />\n                        <Label>\n                            Loading\n                        </Label>\n                    </React.Fragment>\n\n                )}\n            </div>\n        )\n    }\n}\n\nexport default geolocated({\n    positionOptions: {\n        enableHighAccuracy: false,\n    },\n    userDecisionTimeout: 5000,\n})(DVSMapContainer);\n\n","import React, { Component } from 'react';\nimport Link from \"components/_ui/Link/Link\";\nimport classNames from 'classnames';\nimport ReactGA from 'react-ga';\nimport DvsIcon from 'components/_ui/DvsIcon/DvsIcon';\nimport DVSMapContainer from \"components/DVS/DVSMap/DVSMapContainer\";\nimport Spinner from \"components/_ui/Spinner/Spinner\";\nimport Label from \"components/_ui/Label/Label\";\nimport data from \"./dvs_challenge_1_membership_time_space.csv\";\nimport './DVS.scss';\n\nconst colors = [\n    {\n        name: \"data\",\n        color: \"#29B6A8\",\n    },\n    {\n        name: \"visualization\",\n        color: \"#F4AE05\",\n    },\n    {\n        name: \"society\",\n        color: \"#9769F8\",\n    }\n];\n\nclass DVSPage extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            userTopOffset: null,\n            userLeftOffset: null,\n            showData: true,\n            showViz: true,\n            showSociety: true,\n            showMe: true,\n            showMap: true,\n        }\n    }\n\n    toggleData = (name) => {\n        if (name === \"data\") {\n            this.trackEvent('DVS | toggled Data');\n            this.setState(prevState => ({\n                showData: !prevState.showData\n            }));\n        } else if (name === \"visualization\") {\n            this.trackEvent('DVS | toggled Viz');\n            this.setState(prevState => ({\n                showViz: !prevState.showViz\n            }));\n        } else if (name === \"society\"){\n            this.trackEvent('DVS | toggled Society');\n            this.setState(prevState => ({\n                showSociety: !prevState.showSociety\n            }));\n        } else if (name === \"map\") {\n            this.trackEvent('DVS | toggled Map');\n            this.setState(prevState => ({\n                showMap: !prevState.showMap\n            }));\n        } else {\n            this.trackEvent('DVS | toggled Spooch');\n            this.setState(prevState => ({\n                showMe: !prevState.showMe\n            }));\n        }\n    }\n\n    setUserOffsets = (top, left) => {\n        this.setState({ userTopOffset: top, userLeftOffset: left});\n    }\n\n    trackEvent = (action) => {\n        ReactGA.event({\n            category: 'User',\n            action: action\n        });\n    }\n\n    initializeReactGA() {\n        ReactGA.initialize('UA-130275221-1');\n        ReactGA.pageview('/dvs');\n    }\n\n    componentDidMount() {\n        //this.props.hideNavs();\n        this.initializeReactGA();\n        console.log('initialize dvs');\n    }\n\n    render() {\n        const { showData, showViz, showSociety, showMe, showMap } = this.state;\n        return (\n            <div className=\"DVSPage SinglePage\">\n                <div className=\"DVSContainer\">\n                    <div className=\"DVS__section DVS__section--info\">\n                        <div className=\"DVS__credential\">\n                            <div className=\"DVS__icon\">\n                                <DvsIcon />\n                            </div>\n                            <Link to=\"/\" className=\"DVS__link\">\n                                <Label category=\"primary\">\n                                    ← Marguerite.io\n                                </Label>\n                            </Link>\n                        </div>\n\n                        <h1>\n                            Data Visualization Society\n                        </h1>\n                        <p>\n                            This map shows the locations\n                            of <a rel=\"noopener noreferrer\"\n                               target=\"_blank\"\n                               href=\"https://www.datavisualizationsociety.com/\">\n                               DVS\n                            </a> sign-ups\n                            between February 20, 2019 and March 9, 2019.\n                        </p>\n                        <div className=\"DVS__InfoKey\">\n                            <p>\n                                Each member was asked to rank their skills in the following categories: <strong>data</strong>, <strong>visualization</strong>, and <strong>society</strong>.\n                                The color represents the member's highest ranked skill.\n                            </p>\n                            <div className=\"DVS__key__container\">\n                                {colors.map((color, key) => (\n                                    <div key={key}\n                                        className={classNames(\"DVS__key\", {\n                                            'DVS__key--inactive': (color.name === \"data\" ? !showData : color.name === \"visualization\" ? !showViz : !showSociety)\n                                        })}\n                                         onClick={() => this.toggleData(color.name)}>\n                                        <span className=\"DVS__key__color\" style={{ background: color.color }}></span>\n                                        <span className=\"DVS__key__color\" style={{ background: color.color }}></span>\n                                        <Label className=\"DVS__key__label\">\n                                            {color.name}\n                                        </Label>\n                                    </div>\n                                ))}\n\n                                <div\n                                    className={classNames(\"DVS__key\", {\n                                        'DVS__key--inactive': !showMap\n                                    })}\n                                    onClick={() => this.toggleData(\"map\")}>\n                                    <span className=\"DVS__key__color DVS__key__color--map\"></span>\n                                    <Label className=\"DVS__key__label\">\n                                        Map\n                                    </Label>\n                                </div>\n                                <div\n                                    className={classNames(\"DVS__key\", {\n                                        'DVS__key--inactive': !showMe\n                                    })}\n                                    onClick={() => this.toggleData(\"me\")}>\n                                    <Spinner className=\"DVS__key__spooch\" />\n                                    <Label className=\"DVS__key__label\">\n                                        You\n                                    </Label>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div className=\"DVS__section DVS__section--map\" >\n                        <DVSMapContainer\n                            setUserOffsets={this.setUserOffsets}\n                            dsvData={data}\n                            setLoading={this.setLoading}\n                            showMap={showMap}\n                            showMe={showMe}\n                            showData={showData}\n                            showViz={showViz}\n                            showSociety={showSociety}\n                        />\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default DVSPage;\n","import React from \"react\";\nimport Layout from \"components/Layout/Layout\";\nimport DVSPage from \"components/DVS/DVS\";\nimport SEO from \"components/SEO/SEO\";\n\nconst DVS = () => (\n    <Layout\n        className=\"DVS__layout\">\n        <SEO title=\"Data Visualization Society: Challenge #1\" />\n        <DVSPage/>\n    </Layout>\n)\n\nexport default DVS;\n\n","var root = require('./_root');\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\n\nvar now = function now() {\n  return root.Date.now();\n};\n\nmodule.exports = now;","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;","var isSymbol = require('./isSymbol');\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\n\n\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined ? current === current && !isSymbol(current) : comparator(current, computed))) {\n      var computed = current,\n          result = value;\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = baseExtremum;","module.exports = __webpack_public_path__ + \"static/dvs-icon-2321d5aeb2a5811da69e606602203ad5.png\";","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n/** Error message constants. */\n\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;","\"use strict\";\n\nvar _geolocated = require(\"./components/geolocated\");\n\nvar _geolocated2 = _interopRequireDefault(_geolocated);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = {\n  geolocated: _geolocated2[\"default\"],\n  geoPropTypes: _geolocated.geoPropTypes\n};","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.geoPropTypes = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction getDisplayName(WrappedComponent) {\n  return \"Geolocated(\" + (WrappedComponent.displayName || WrappedComponent.name || \"Component\") + \")\";\n}\n\nvar geolocated = function geolocated() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$positionOptions = _ref.positionOptions,\n      positionOptions = _ref$positionOptions === undefined ? {\n    enableHighAccuracy: true,\n    maximumAge: 0,\n    timeout: Infinity\n  } : _ref$positionOptions,\n      _ref$isOptimisticGeol = _ref.isOptimisticGeolocationEnabled,\n      isOptimisticGeolocationEnabled = _ref$isOptimisticGeol === undefined ? true : _ref$isOptimisticGeol,\n      _ref$userDecisionTime = _ref.userDecisionTimeout,\n      userDecisionTimeout = _ref$userDecisionTime === undefined ? null : _ref$userDecisionTime,\n      _ref$suppressLocation = _ref.suppressLocationOnMount,\n      suppressLocationOnMount = _ref$suppressLocation === undefined ? false : _ref$suppressLocation,\n      _ref$watchPosition = _ref.watchPosition,\n      watchPosition = _ref$watchPosition === undefined ? false : _ref$watchPosition,\n      _ref$geolocationProvi = _ref.geolocationProvider,\n      geolocationProvider = _ref$geolocationProvi === undefined ? typeof navigator !== \"undefined\" && navigator.geolocation : _ref$geolocationProvi;\n\n  return function (WrappedComponent) {\n    var result = function (_Component) {\n      _inherits(Geolocated, _Component);\n\n      function Geolocated(props) {\n        _classCallCheck(this, Geolocated);\n\n        var _this = _possibleConstructorReturn(this, (Geolocated.__proto__ || Object.getPrototypeOf(Geolocated)).call(this, props));\n\n        _this.state = {\n          coords: null,\n          isGeolocationAvailable: Boolean(geolocationProvider),\n          isGeolocationEnabled: isOptimisticGeolocationEnabled,\n          positionError: null\n        };\n        _this.isCurrentlyMounted = false;\n        _this.onPositionError = _this.onPositionError.bind(_this);\n        _this.onPositionSuccess = _this.onPositionSuccess.bind(_this);\n        _this.cancelUserDecisionTimeout = _this.cancelUserDecisionTimeout.bind(_this);\n        _this.getLocation = _this.getLocation.bind(_this);\n        return _this;\n      }\n\n      _createClass(Geolocated, [{\n        key: \"cancelUserDecisionTimeout\",\n        value: function cancelUserDecisionTimeout() {\n          if (this.userDecisionTimeoutId) {\n            clearTimeout(this.userDecisionTimeoutId);\n          }\n        }\n      }, {\n        key: \"onPositionError\",\n        value: function onPositionError(positionError) {\n          this.cancelUserDecisionTimeout();\n\n          if (this.isCurrentlyMounted) {\n            this.setState({\n              coords: null,\n              isGeolocationAvailable: this.state.isGeolocationAvailable,\n              isGeolocationEnabled: false,\n              positionError: positionError\n            });\n          }\n\n          if (this.props.onError) {\n            this.props.onError(positionError);\n          }\n        }\n      }, {\n        key: \"onPositionSuccess\",\n        value: function onPositionSuccess(position) {\n          this.cancelUserDecisionTimeout();\n\n          if (this.isCurrentlyMounted) {\n            this.setState({\n              coords: position.coords,\n              isGeolocationAvailable: this.state.isGeolocationAvailable,\n              isGeolocationEnabled: true,\n              positionError: null\n            });\n          }\n\n          if (this.props.onSuccess) {\n            this.props.onSuccess(position);\n          }\n        }\n      }, {\n        key: \"getLocation\",\n        value: function getLocation() {\n          var _this2 = this;\n\n          if (!geolocationProvider || !geolocationProvider.getCurrentPosition || !geolocationProvider.watchPosition) {\n            throw new Error(\"The provided geolocation provider is invalid\");\n          }\n\n          var funcPosition = (watchPosition ? geolocationProvider.watchPosition : geolocationProvider.getCurrentPosition).bind(geolocationProvider);\n\n          if (userDecisionTimeout) {\n            this.userDecisionTimeoutId = setTimeout(function () {\n              _this2.onPositionError();\n            }, userDecisionTimeout);\n          }\n\n          this.watchId = funcPosition(this.onPositionSuccess, this.onPositionError, positionOptions);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n\n          if (!suppressLocationOnMount) {\n            this.getLocation();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n          this.cancelUserDecisionTimeout();\n\n          if (watchPosition) {\n            geolocationProvider.clearWatch(this.watchId);\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return _react2[\"default\"].createElement(WrappedComponent, _extends({}, this.state, this.props));\n        }\n      }]);\n\n      return Geolocated;\n    }(_react.Component);\n\n    result.displayName = getDisplayName(WrappedComponent);\n    result.propTypes = {\n      onError: _propTypes2[\"default\"].func,\n      onSuccess: _propTypes2[\"default\"].func\n    };\n    return result;\n  };\n};\n\nexports[\"default\"] = geolocated;\nvar geoPropTypes = exports.geoPropTypes = {\n  coords: _propTypes2[\"default\"].shape({\n    latitude: _propTypes2[\"default\"].number,\n    longitude: _propTypes2[\"default\"].number,\n    altitude: _propTypes2[\"default\"].number,\n    accuracy: _propTypes2[\"default\"].number,\n    altitudeAccuracy: _propTypes2[\"default\"].number,\n    heading: _propTypes2[\"default\"].number,\n    speed: _propTypes2[\"default\"].number\n  }),\n  isGeolocationAvailable: _propTypes2[\"default\"].bool,\n  isGeolocationEnabled: _propTypes2[\"default\"].bool,\n  positionError: _propTypes2[\"default\"].shape({\n    code: _propTypes2[\"default\"].oneOf([1, 2, 3]),\n    message: _propTypes2[\"default\"].string\n  }),\n  watchPosition: _propTypes2[\"default\"].bool\n};"],"sourceRoot":""}