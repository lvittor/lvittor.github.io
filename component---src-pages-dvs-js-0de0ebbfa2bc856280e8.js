(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+Oou":function(t,e,o){},FyPc:function(t,e,o){var n=o("dunj"),a=o("V9xz"),i=o("ut/Y");t.exports=function(t,e){return t&&t.length?n(t,i(e,2),a):void 0}},Km7g:function(t,e,o){"use strict";o.r(e);var n=o("q1tI"),a=o.n(n),i=o("uSmJ"),r=(o("f3/d"),o("zsIr")),s=o("TSYQ"),c=o.n(s),u=o("0b+E"),l=o("kJAl"),p=o.n(l),f=(o("O3Zb"),o("qKvR"));var d=function(t){var e,o;function n(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).onMouseOver=function(){e.props.setCurrentPet(e.props.pet)},e.onMouseLeave=function(){e.props.emptyCurrentPet()},e}o=t,(e=n).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var a=n.prototype;return a.getClassName=function(){var t=this.props.className;return c()(t,"DvsIcon__container")},a.render=function(){return Object(f.a)("div",{className:this.getClassName()},Object(f.a)("img",{src:p.a,alt:"Data Visualization Society unique member icon",className:"DvsIcon"}))},n}(n.Component),h=o("sEfC"),v=o.n(h),m=o("mROD"),y=o("w18J"),b=o("FyPc"),g=o.n(b),_=o("LZ5Q"),O=o("vHEj"),w=(o("8+KV"),function(t){return t}),j=function(t){if(null==t)return w;var e,o,n=t.scale[0],a=t.scale[1],i=t.translate[0],r=t.translate[1];return function(t,s){s||(e=o=0);var c=2,u=t.length,l=new Array(u);for(l[0]=(e+=t[0])*n+i,l[1]=(o+=t[1])*a+r;c<u;)l[c]=t[c],++c;return l}};o("bWfx");function S(t,e){var o=e.id,n=e.bbox,a=null==e.properties?{}:e.properties,i=D(t,e);return null==o&&null==n?{type:"Feature",properties:a,geometry:i}:null==n?{type:"Feature",id:o,properties:a,geometry:i}:{type:"Feature",id:o,bbox:n,properties:a,geometry:i}}function D(t,e){var o=j(t.transform),n=t.arcs;function a(t,e){e.length&&e.pop();for(var a=n[t<0?~t:t],i=0,r=a.length;i<r;++i)e.push(o(a[i],i));t<0&&function(t,e){for(var o,n=t.length,a=n-e;a<--n;)o=t[a],t[a++]=t[n],t[n]=o}(e,r)}function i(t){return o(t)}function r(t){for(var e=[],o=0,n=t.length;o<n;++o)a(t[o],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=r(t);e.length<4;)e.push(e[0]);return e}function c(t){return t.map(s)}return function t(e){var o,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(t)};case"Point":o=i(e.coordinates);break;case"MultiPoint":o=e.coordinates.map(i);break;case"LineString":o=r(e.arcs);break;case"MultiLineString":o=e.arcs.map(r);break;case"Polygon":o=c(e.arcs);break;case"MultiPolygon":o=e.arcs.map(c);break;default:return null}return{type:n,coordinates:o}}(e)}o("0l/t");o("ZoSx");var k=function(t){var e,o;function n(){var e;return(e=t.call(this)||this).setSkill=function(t){return t.map((function(t){var e=[{name:"data",value:t.data},{name:"visualization",value:t.visualization},{name:"society",value:t.society}],o=g()(e,"value");return t.skill=o.name})),t},e.state={worldData:[],data:[]},e.user=a.a.createRef(),e}o=t,(e=n).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var i=n.prototype;return i.projection=function(){return Object(_.a)().scale(100).translate([500,275])},i.setUser=function(){var t=this.user.getBoundingClientRect().y,e=this.user.getBoundingClientRect().x;this.props.setUserOffsets(t,e)},i.componentDidMount=function(){var t=this;fetch("https://unpkg.com/world-atlas@1.1.4/world/110m.json").then((function(e){200===e.status?e.json().then((function(e){var o,n;t.setState({worldData:(o=e,n=e.objects.countries,"string"==typeof n&&(n=o.objects[n]),"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map((function(t){return S(o,t)}))}:S(o,n)).features,data:t.setSkill(t.props.dsvData)}),t.props.setLoading(),t.setUser()})):console.log("There was a problem: "+e.status)}))},i.componentDidUpdate=function(t,e){null!==t.containerWidth&&t.containerWidth!==this.props.containerWidth&&this.setUser()},i.determineStrengthHex=function(t){return"data"===t?"#29B6A8":"visualization"===t?"#F4AE05":"#9769F8"},i.render=function(){var t=this,e=this.props,o=e.containerWidth,n=e.showMap,i=e.showData,r=e.showViz,s=e.showSociety,c=e.isLoaded;return Object(f.a)("div",{className:"DVSMap"},Object(f.a)(a.a.Fragment,null,Object(f.a)("svg",{width:o,viewBox:"0 0 900 400"},Object(f.a)("g",{className:"countries"},this.state.worldData.map((function(e,o){return Object(f.a)("path",{key:"path-"+o,d:Object(O.a)().projection(t.projection())(e),className:"country",fill:"#F7F5F9",stroke:"#FFFFFF",strokeWidth:1,fillOpacity:n?1:0,strokeOpacity:n?1:0})}))),Object(f.a)("g",{className:"markers"},this.state.data.map((function(e,o){return"data"===e.skill?Object(f.a)("circle",{key:"marker-"+o,cx:t.projection()([e.long,e.lat])[0],cy:t.projection()([e.long,e.lat])[1],r:2.4,fill:t.determineStrengthHex(e.skill),className:"DVSMap__marker",onMouseEnter:function(n){return t.onMouseEnter(e,o)},onMouseLeave:function(e){return t.onMouseLeave(null)},fillOpacity:i?1:0}):"visualization"===e.skill?Object(f.a)("circle",{key:"marker-"+o,cx:t.projection()([e.long,e.lat])[0],cy:t.projection()([e.long,e.lat])[1],r:2.4,fill:t.determineStrengthHex(e.skill),className:"DVSMap__marker",onMouseEnter:function(n){return t.onMouseEnter(e,o)},onMouseLeave:function(e){return t.onMouseLeave(null)},fillOpacity:r?1:0}):"society"===e.skill&&Object(f.a)("circle",{key:"marker-"+o,cx:t.projection()([e.long,e.lat])[0],cy:t.projection()([e.long,e.lat])[1],r:2.4,fill:t.determineStrengthHex(e.skill),className:"DVSMap__marker",onMouseEnter:function(n){return t.onMouseEnter(e,o)},onMouseLeave:function(e){return t.onMouseLeave(null)},fillOpacity:s?1:0})}))),c&&Object(f.a)("g",null,Object(f.a)("circle",{ref:function(e){t.user=e},cx:this.projection()([this.props.userCoords.longitude,this.props.userCoords.latitude])[0],cy:this.projection()([this.props.userCoords.longitude,this.props.userCoords.latitude])[1],r:3,fill:"#FFCF5C",fillOpacity:0,className:"DVSMap__marker DVSMap__marker--user"})))))},n}(n.Component),M=o("yLQo");var V=function(t){var e,o;function n(e){var o;return(o=t.call(this,e)||this).setUserOffsets=function(t,e){t-=12,e-=10,o.setState({userTop:t,userLeft:e})},o.setLoading=function(){o.setState({isLoaded:!0})},o.state={containerWidth:null,isLoaded:!1,userTop:null,userLeft:null},o.chartContainer=a.a.createRef(),o.fitParentContainer=o.fitParentContainer.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o)),o}o=t,(e=n).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var i=n.prototype;return i.setInitialFit=function(){setTimeout(function(){this.fitParentContainer()}.bind(this),10)},i.componentDidMount=function(){this.setInitialFit(),window.addEventListener("resize",v()(this.fitParentContainer,1e3))},i.componentWillUnmount=function(){window.removeEventListener("resize",v()(this.fitParentContainer,1e3))},i.fitParentContainer=function(){var t=this.state,e=t.containerHeight,o=t.containerWidth,n=this.chartContainer.current.getBoundingClientRect().width,a=this.chartContainer.current.getBoundingClientRect().height;(o!==n||e!==a)&&this.setState({containerWidth:n,containerHeight:a})},i.render=function(){var t=this.state,e=t.containerHeight,o=t.containerWidth,n=t.isLoaded,i=t.userTop,r=t.userLeft,s=this.props,c=s.showData,u=s.showViz,l=s.showSociety,p=s.showMe,d=s.showMap;return Object(f.a)("div",{className:"DVSMapContainer",ref:this.chartContainer},this.props.isGeolocationAvailable?this.props.isGeolocationEnabled?this.props.coords?Object(f.a)(a.a.Fragment,null,p&&n&&Object(f.a)("div",{className:"DVSMap__marker--you",style:{top:i+"px",left:r+"px"}},Object(f.a)(m.a,null)),Object(f.a)(k,{containerWidth:o,containerHeight:e,dsvData:this.props.dsvData,setLoading:this.setLoading,userCoords:this.props.coords,setUserOffsets:this.setUserOffsets,isLoaded:n,showMap:d,showData:c,showViz:u,showSociety:l})):Object(f.a)(a.a.Fragment,null,Object(f.a)(m.a,{size:"xl",spin:!0,className:"DVSMap__spinner"}),Object(f.a)(y.a,null,"Loading")):Object(f.a)(y.a,null,"Geolocation is not enabled"):Object(f.a)(y.a,null,"Your browser does not support Geolocation"))},n}(n.Component),C=Object(M.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(V),E=o("uggX"),P=o.n(E);o("+Oou");var N=[{name:"data",color:"#29B6A8"},{name:"visualization",color:"#F4AE05"},{name:"society",color:"#9769F8"}],T=function(t){var e,o;function n(e){var o;return(o=t.call(this,e)||this).toggleData=function(t){"data"===t?(o.trackEvent("DVS | toggled Data"),o.setState((function(t){return{showData:!t.showData}}))):"visualization"===t?(o.trackEvent("DVS | toggled Viz"),o.setState((function(t){return{showViz:!t.showViz}}))):"society"===t?(o.trackEvent("DVS | toggled Society"),o.setState((function(t){return{showSociety:!t.showSociety}}))):"map"===t?(o.trackEvent("DVS | toggled Map"),o.setState((function(t){return{showMap:!t.showMap}}))):(o.trackEvent("DVS | toggled Spooch"),o.setState((function(t){return{showMe:!t.showMe}})))},o.setUserOffsets=function(t,e){o.setState({userTopOffset:t,userLeftOffset:e})},o.trackEvent=function(t){u.a.event({category:"User",action:t})},o.state={userTopOffset:null,userLeftOffset:null,showData:!0,showViz:!0,showSociety:!0,showMe:!0,showMap:!0},o}o=t,(e=n).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var a=n.prototype;return a.initializeReactGA=function(){u.a.initialize("UA-130275221-1"),u.a.pageview("/dvs")},a.componentDidMount=function(){this.initializeReactGA(),console.log("initialize dvs")},a.render=function(){var t=this,e=this.state,o=e.showData,n=e.showViz,a=e.showSociety,i=e.showMe,s=e.showMap;return Object(f.a)("div",{className:"DVSPage SinglePage"},Object(f.a)("div",{className:"DVSContainer"},Object(f.a)("div",{className:"DVS__section DVS__section--info"},Object(f.a)("div",{className:"DVS__credential"},Object(f.a)("div",{className:"DVS__icon"},Object(f.a)(d,null)),Object(f.a)(r.a,{to:"/",className:"DVS__link"},Object(f.a)(y.a,{category:"primary"},"← Marguerite.io"))),Object(f.a)("h1",null,"Data Visualization Society"),Object(f.a)("p",null,"This map shows the locations of ",Object(f.a)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.datavisualizationsociety.com/"},"DVS")," sign-ups between February 20, 2019 and March 9, 2019."),Object(f.a)("div",{className:"DVS__InfoKey"},Object(f.a)("p",null,"Each member was asked to rank their skills in the following categories: ",Object(f.a)("strong",null,"data"),", ",Object(f.a)("strong",null,"visualization"),", and ",Object(f.a)("strong",null,"society"),". The color represents the member's highest ranked skill."),Object(f.a)("div",{className:"DVS__key__container"},N.map((function(e,i){return Object(f.a)("div",{key:i,className:c()("DVS__key",{"DVS__key--inactive":"data"===e.name?!o:"visualization"===e.name?!n:!a}),onClick:function(){return t.toggleData(e.name)}},Object(f.a)("span",{className:"DVS__key__color",style:{background:e.color}}),Object(f.a)("span",{className:"DVS__key__color",style:{background:e.color}}),Object(f.a)(y.a,{className:"DVS__key__label"},e.name))})),Object(f.a)("div",{className:c()("DVS__key",{"DVS__key--inactive":!s}),onClick:function(){return t.toggleData("map")}},Object(f.a)("span",{className:"DVS__key__color DVS__key__color--map"}),Object(f.a)(y.a,{className:"DVS__key__label"},"Map")),Object(f.a)("div",{className:c()("DVS__key",{"DVS__key--inactive":!i}),onClick:function(){return t.toggleData("me")}},Object(f.a)(m.a,{className:"DVS__key__spooch"}),Object(f.a)(y.a,{className:"DVS__key__label"},"You"))))),Object(f.a)("div",{className:"DVS__section DVS__section--map"},Object(f.a)(C,{setUserOffsets:this.setUserOffsets,dsvData:P.a,setLoading:this.setLoading,showMap:s,showMe:i,showData:o,showViz:n,showSociety:a}))))},n}(n.Component),L=o("okzv");e.default=function(){return Object(f.a)(i.a,{className:"DVS__layout"},Object(f.a)(L.a,{title:"Data Visualization Society: Challenge #1"}),Object(f.a)(T,null))}},O3Zb:function(t,e,o){},QIyF:function(t,e,o){var n=o("Kz5y");t.exports=function(){return n.Date.now()}},V9xz:function(t,e){t.exports=function(t,e){return t>e}},ZoSx:function(t,e,o){},dunj:function(t,e,o){var n=o("/9aa");t.exports=function(t,e,o){for(var a=-1,i=t.length;++a<i;){var r=t[a],s=e(r);if(null!=s&&(void 0===c?s==s&&!n(s):o(s,c)))var c=s,u=r}return u}},kJAl:function(t,e,o){t.exports=o.p+"static/dvs-icon-2321d5aeb2a5811da69e606602203ad5.png"},sEfC:function(t,e,o){var n=o("GoyQ"),a=o("QIyF"),i=o("tLB3"),r=Math.max,s=Math.min;t.exports=function(t,e,o){var c,u,l,p,f,d,h=0,v=!1,m=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var o=c,n=u;return c=u=void 0,h=e,p=t.apply(n,o)}function g(t){return h=t,f=setTimeout(O,e),v?b(t):p}function _(t){var o=t-d;return void 0===d||o>=e||o<0||m&&t-h>=l}function O(){var t=a();if(_(t))return w(t);f=setTimeout(O,function(t){var o=e-(t-d);return m?s(o,l-(t-h)):o}(t))}function w(t){return f=void 0,y&&c?b(t):(c=u=void 0,p)}function j(){var t=a(),o=_(t);if(c=arguments,u=this,d=t,o){if(void 0===f)return g(d);if(m)return clearTimeout(f),f=setTimeout(O,e),b(d)}return void 0===f&&(f=setTimeout(O,e)),p}return e=i(e)||0,n(o)&&(v=!!o.leading,l=(m="maxWait"in o)?r(i(o.maxWait)||0,e):l,y="trailing"in o?!!o.trailing:y),j.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=d=u=f=void 0},j.flush=function(){return void 0===f?p:w(a())},j}},yLQo:function(t,e,o){"use strict";var n,a=o("zgO2"),i=(n=a)&&n.__esModule?n:{default:n};t.exports={geolocated:i.default,geoPropTypes:a.geoPropTypes}},zgO2:function(t,e,o){"use strict";o("2Spj"),o("f3/d"),o("/SS/"),o("hHhE"),o("91GP"),o("HAE/"),Object.defineProperty(e,"__esModule",{value:!0}),e.geoPropTypes=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=o("q1tI"),r=c(i),s=c(o("17x9"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t){return"Geolocated("+(t.displayName||t.name||"Component")+")"}e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.positionOptions,o=void 0===e?{enableHighAccuracy:!0,maximumAge:0,timeout:1/0}:e,c=t.isOptimisticGeolocationEnabled,d=void 0===c||c,h=t.userDecisionTimeout,v=void 0===h?null:h,m=t.suppressLocationOnMount,y=void 0!==m&&m,b=t.watchPosition,g=void 0!==b&&b,_=t.geolocationProvider,O=void 0===_?"undefined"!=typeof navigator&&navigator.geolocation:_;return function(t){var e=function(e){function i(t){u(this,i);var e=l(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.state={coords:null,isGeolocationAvailable:Boolean(O),isGeolocationEnabled:d,positionError:null},e.isCurrentlyMounted=!1,e.onPositionError=e.onPositionError.bind(e),e.onPositionSuccess=e.onPositionSuccess.bind(e),e.cancelUserDecisionTimeout=e.cancelUserDecisionTimeout.bind(e),e.getLocation=e.getLocation.bind(e),e}return p(i,e),a(i,[{key:"cancelUserDecisionTimeout",value:function(){this.userDecisionTimeoutId&&clearTimeout(this.userDecisionTimeoutId)}},{key:"onPositionError",value:function(t){this.cancelUserDecisionTimeout(),this.isCurrentlyMounted&&this.setState({coords:null,isGeolocationAvailable:this.state.isGeolocationAvailable,isGeolocationEnabled:!1,positionError:t}),this.props.onError&&this.props.onError(t)}},{key:"onPositionSuccess",value:function(t){this.cancelUserDecisionTimeout(),this.isCurrentlyMounted&&this.setState({coords:t.coords,isGeolocationAvailable:this.state.isGeolocationAvailable,isGeolocationEnabled:!0,positionError:null}),this.props.onSuccess&&this.props.onSuccess(t)}},{key:"getLocation",value:function(){var t=this;if(!O||!O.getCurrentPosition||!O.watchPosition)throw new Error("The provided geolocation provider is invalid");var e=(g?O.watchPosition:O.getCurrentPosition).bind(O);v&&(this.userDecisionTimeoutId=setTimeout((function(){t.onPositionError()}),v)),this.watchId=e(this.onPositionSuccess,this.onPositionError,o)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,y||this.getLocation()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.cancelUserDecisionTimeout(),g&&O.clearWatch(this.watchId)}},{key:"render",value:function(){return r.default.createElement(t,n({},this.state,this.props))}}]),i}(i.Component);return e.displayName=f(t),e.propTypes={onError:s.default.func,onSuccess:s.default.func},e}};e.geoPropTypes={coords:s.default.shape({latitude:s.default.number,longitude:s.default.number,altitude:s.default.number,accuracy:s.default.number,altitudeAccuracy:s.default.number,heading:s.default.number,speed:s.default.number}),isGeolocationAvailable:s.default.bool,isGeolocationEnabled:s.default.bool,positionError:s.default.shape({code:s.default.oneOf([1,2,3]),message:s.default.string}),watchPosition:s.default.bool}}}]);
//# sourceMappingURL=component---src-pages-dvs-js-0de0ebbfa2bc856280e8.js.map